webpackJsonp([0],{"3/JB":function(t,e){},I1a8:function(t,e){},PWrr:function(t,e){},Xcdf:function(t,e){},YLVr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Xxa5"),o=s.n(i),n=s("exGp"),a=s.n(n),r=s("mtWM"),d=s.n(r),c=s("QmSG"),l={props:["type1","type2"],data:function(){return{types_arr:[],error:"",product:[],product_ids:[],products_name:[],user_id:0}},methods:{Cancel:function(){this.$emit("ifType",0)},getProductName:function(){var t=this;d.a.get(c.a.host+"/product/getAllProductName",{params:{user_id:this.user_id}}).then(function(e){t.products_name=e.data.products,console.log("products_name",t.products_name)})},getProductIds:function(t){var e=this.product_ids.indexOf(t);e>-1?this.product_ids.splice(e,1):this.product_ids.push(t),console.log("this.product_ids",this.product_ids)},submitUpload:function(){var t=this;if(this.product_ids.length>0){var e={type1:this.type1,type2:this.type2,product_ids:this.product_ids,user_id:this.user_id};console.log("data submitUpload",e),d()({url:c.a.host+"/productType/createType",method:"post",data:e}).then(function(e){t.$emit("ifType",1),console.log(e.data)})}else this.error="没有选择项，请检查后再重新保存"}},mounted:function(){this.user_id=this.$store.getters.userinfo.id,console.log("user_id",this.user_id),this.user_id||(this.user_id=localStorage.getItem("user-xbapp")),this.getProductName()}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"modal-mask"}),t._v(" "),s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"content-text"},t._l(t.products_name,function(e,i){return s("el-checkbox",{key:i,staticClass:"row",attrs:{label:e.name,border:""},on:{change:function(s){return t.getProductIds(e.id)}},model:{value:e[i],callback:function(s){t.$set(e,i,s)},expression:"product[index]"}})}),1),t._v(" "),s("div",{staticClass:"error"},[t._v(" "+t._s(t.error))])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("div",{staticClass:"btnCancel",on:{click:t.Cancel}},[t._v("取消")]),t._v(" "),s("div",{staticClass:"btnConfirm",on:{click:t.submitUpload}},[t._v("保存")])])])])},staticRenderFns:[]};var p=s("VU/8")(l,u,!1,function(t){s("Xcdf")},"data-v-efe62422",null).exports,_={props:["product_type_id"],data:function(){return{as_sort:"",error:""}},methods:{Cancel:function(){this.$emit("ifEdit",0)},submitUpload:function(){var t=this;return a()(o.a.mark(function e(){var s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.as_sort){e.next=6;break}return s={id:t.product_type_id,as_sort:t.as_sort},e.next=4,d()({url:c.a.host+"/productType/editType",method:"post",data:s}).then(function(e){t.$emit("ifEdit",t.as_sort),t.as_sort=""});case 4:e.next=7;break;case 6:t.error="需要不能为空，请检查重新提交";case 7:case"end":return e.stop()}},e,t)}))()}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"modal-mask"}),t._v(" "),s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"content-text"},[s("label",{staticClass:"label"},[t._v("序号：")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.as_sort,expression:"as_sort"}],staticClass:"input",attrs:{type:"number",maxlength:"5",placeholder:"序号为非0正整数"},domProps:{value:t.as_sort},on:{input:function(e){e.target.composing||(t.as_sort=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"error"},[t._v(" "+t._s(t.error))])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("div",{staticClass:"btnCancel",on:{click:t.Cancel}},[t._v("取消")]),t._v(" "),s("div",{staticClass:"btnConfirm",on:{click:t.submitUpload}},[t._v("保存")])])])])},staticRenderFns:[]};var v=s("VU/8")(_,f,!1,function(t){s("3/JB")},"data-v-5fc2f382",null).exports,m={components:{addType:p,showModel:s("ybdy").a,editType:v},data:function(){return{types:[],typeItem:[],type_index:0,items_index:0,products:[],ifaddType:!1,ifshowModel:!1,ifeditType:!1,product_type_id:"",index:"",user_id:0}},methods:{getHomeData:function(){d.a.get(c.a.host+"/data/getData",{params:{user_id:this.user_id}}).then(this._getHomeData)},_getHomeData:function(t){console.log("res",t),this.types=t.data.types,this.typeItem=t.data.typeItem},changeindex:function(t){this.type_index=t,this.items_index=0,this.getProductType()},changeitem:function(t){this.items_index=t,this.getProductType()},getProductType:function(){var t=this;return a()(o.a.mark(function e(){var s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s={type1:t.type_index,type2:t.items_index,user_id:t.user_id},console.log("data",s),d.a.get(c.a.host+"/productType/getType",{params:s}).then(function(e){t.products=e.data.products,console.log("products",t.products)});case 3:case"end":return e.stop()}},e,t)}))()},addProductType:function(){this.ifaddType=!0},ifType:function(t){this.ifaddType=!1,1==t&&this.getProductType()},confirmWindow:function(t,e){console.log("product_type_id",e),this.index=t,this.product_type_id=e,this.ifshowModel=!0},ifShow:function(t){var e=this;return a()(o.a.mark(function s(){var i;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(console.log("ifshowModel",t),e.ifshowModel=!1,1!=t){s.next=8;break}return s.next=5,d.a.post(c.a.host+"/productType/deleteType",{product_type_id:e.product_type_id});case 5:i=s.sent,console.log("res",i),0==i.data.code&&e.products.splice(e.index,1);case 8:case"end":return s.stop()}},s,e)}))()},editSort:function(t){this.ifeditType=!0,this.product_type_id=t},ifEdit:function(t){this.ifeditType=!1,console.log("ifEdit",t),parseInt(t)>0&&this.getProductType()}},mounted:function(){this.user_id=this.$store.getters.userinfo.id,console.log("user_id",this.user_id),this.user_id||(this.user_id=localStorage.getItem("user-xbapp")),this.getHomeData(),this.getProductType()}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",[s("el-header",{staticStyle:{"text-align":"left","font-size":"18px"}},[s("router-link",{attrs:{tag:"div",to:"/admin"}},[t._v("\n      < 回到首页\n    ")]),t._v(" "),s("span",[t._v("力哥理财")])],1),t._v(" "),s("div",{staticClass:"item",staticStyle:{"background-color":"#ff7700"}},t._l(t.types,function(e,i){return s("div",{key:i,staticClass:"scroll-item"},[s("div",{style:parseInt(e[0])==t.type_index?"background-color:#ffbd00;font-size:16px;padding:0 10px;":"padding:0 10px;",on:{click:function(s){return t.changeindex(e[0])}}},[t._v(t._s(e[1]))])])}),0),t._v(" "),t.typeItem?[s("div",{staticClass:"item"},t._l(t.typeItem[t.type_index],function(e,i){return s("div",{key:i,staticClass:"scroll-item"},[s("div",{style:i==t.items_index?"color:#ff7700;":"",on:{click:function(e){return t.changeitem(i)}}},[t._v(t._s(e))])])}),0)]:t._e(),t._v(" "),s("el-main",[s("div",{staticClass:"add",on:{click:t.addProductType}},[t._v("\n      添加保险\n    ")]),t._v(" "),s("el-table",{attrs:{data:t.products}},[s("img",{attrs:{src:t.products.imgUrl}}),t._v(" "),s("el-table-column",{attrs:{prop:"imgUrl",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{attrs:{src:t.row.imgUrl,width:"70",height:"70"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"name",label:"保险名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"note",label:"描述",width:"300"}}),t._v(" "),s("el-table-column",{attrs:{prop:"price",label:"最低价格"}}),t._v(" "),s("el-table-column",{attrs:{label:"序号（数字越大，排序越靠前）"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row["product_types.as_sort"])+"\n        ")]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("button",{staticClass:"delete",on:{click:function(s){return t.editSort(e.row["product_types.id"])}}},[t._v("编辑\n          ")]),t._v(" "),s("button",{staticClass:"delete",on:{click:function(s){return t.confirmWindow(e.$index,e.row["product_types.id"])}}},[t._v("删除\n          ")])]}}])})],1)],1),t._v(" "),s("addType",{directives:[{name:"show",rawName:"v-show",value:t.ifaddType,expression:"ifaddType"}],attrs:{type1:t.type_index,type2:t.items_index},on:{ifType:t.ifType}}),t._v(" "),s("showModel",{directives:[{name:"show",rawName:"v-show",value:t.ifshowModel,expression:"ifshowModel"}],attrs:{text:"确定要删除吗？"},on:{ifShow:t.ifShow}}),t._v(" "),s("editType",{directives:[{name:"show",rawName:"v-show",value:t.ifeditType,expression:"ifeditType"}],attrs:{product_type_id:t.product_type_id},on:{ifEdit:t.ifEdit}})],2)},staticRenderFns:[]};var y=s("VU/8")(m,h,!1,function(t){s("PWrr")},"data-v-18eaf25e",null);e.default=y.exports},ybdy:function(t,e,s){"use strict";var i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"modal-mask"}),t._v(" "),s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"content-text"},[s("p",[t._v(t._s(t.text))])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("div",{staticClass:"btnCancel",on:{click:t.tapCancel}},[t._v("取消")]),t._v(" "),s("div",{staticClass:"btnConfirm",on:{click:t.confirm}},[t._v("确定")])])])])},staticRenderFns:[]};var o=s("VU/8")({props:["text"],methods:{tapCancel:function(){this.$emit("ifShow",0)},confirm:function(){this.$emit("ifShow",1)}}},i,!1,function(t){s("I1a8")},"data-v-01dc6472",null);e.a=o.exports}});